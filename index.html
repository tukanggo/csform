<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Customer Requirement Form</title>
<script src="https://unpkg.com/aws-amplify@latest/dist/aws-amplify.min.js"></script>
<style>
body { font-family: Arial; background: #f2f2f2; padding: 30px; }
.container { max-width: 600px; margin: auto; background: white; padding: 25px; border-radius: 12px; }
label { display: block; margin-top: 12px; font-weight: bold; }
input, textarea { width: 100%; padding: 10px; border-radius: 6px; border: 1px solid #ccc; margin-top: 5px; }
button { margin-top: 20px; padding: 12px; width: 100%; background: #4CAF50; color: white; border: none; border-radius: 8px; }
</style>
</head>
<body>
<div class="container">
<h2>Customer Requirement Form</h2>

<label>Name:</label>
<input type="text" name="name" required>

<label>Address:</label>
<input type="text" name="address" required>

<label>Contact Number:</label>
<input type="text" name="contact" required>

<label>Requirement Details:</label>
<textarea name="requirement" rows="4" required></textarea>

<label>Preferred Date:</label>
<input type="date" name="preferred_date" required>

<label>Preferred Time:</label>
<input type="time" name="preferred_time" required>

<button type="button" id="submitBtn">Submit</button>
</div>

<script>
aws_amplify.Amplify.configure({
    API: {
        endpoints: [
            {
                name: "FormAPI",
                endpoint: "YOUR_AMPLIFY_API_ENDPOINT" // Replace with your actual API URL
            }
        ]
    }
});

document.getElementById("submitBtn").addEventListener("click", async () => {
    const data = {
        name: document.querySelector('input[name="name"]').value,
        address: document.querySelector('input[name="address"]').value,
        contact: document.querySelector('input[name="contact"]').value,
        requirement: document.querySelector('textarea[name="requirement"]').value,
        preferred_date: document.querySelector('input[name="preferred_date"]').value,
        preferred_time: document.querySelector('input[name="preferred_time"]').value
    };

    try {
        await aws_amplify.API.post("FormAPI", "/submit", { body: data });
        alert("Form submitted successfully!");
    } catch (err) {
        console.error(err);
        alert("Submission failed. Please try again!");
    }
});
</script>
</body>
</html>
